// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import { SSTORE2 } from "solmate/src/utils/SSTORE2.sol";

/// @title BgNebulaAtlas
/// @notice Stores pre-minified bgNebula SVG fragment variants using SSTORE2.
contract BgNebulaAtlas {
    address[] public nebulaPointers;

    constructor() {
        // variant 0: bgNebula_0.svg
        nebulaPointers.push(SSTORE2.write(hex"3c672069643d2262674e6562756c61223e3c646566733e3c72616469616c4772616469656e742069643d226e656230222063783d22313939222063793d223231352e362220723d2231363522206772616469656e74556e6974733d227573657253706163654f6e557365223e3c73746f70206f66667365743d223025222073746f702d636f6c6f723d2223356165613663222f3e3c73746f70206f66667365743d22333525222073746f702d636f6c6f723d2223383064376534222073746f702d6f7061636974793d222e3635222f3e3c73746f70206f66667365743d22373025222073746f702d636f6c6f723d2223643961326463222073746f702d6f7061636974793d222e3235222f3e3c73746f70206f66667365743d2231303025222073746f702d636f6c6f723d2223643961326463222073746f702d6f7061636974793d2230222f3e3c2f72616469616c4772616469656e743e3c2f646566733e3c636972636c652063783d22313939222063793d223231352e362220723d223932222066696c6c3d2275726c28236e65623029222f3e3c2f673e"));
        // variant 1: bgNebula_1.svg
        nebulaPointers.push(SSTORE2.write(hex"3c672069643d2262674e6562756c61223e3c646566733e3c72616469616c4772616469656e742069643d226e656231222063783d223230302e32222063793d223231382e362220723d2231383522206772616469656e74556e6974733d227573657253706163654f6e557365223e3c73746f70206f66667365743d223025222073746f702d636f6c6f723d2223656663613535222f3e3c73746f70206f66667365743d22323525222073746f702d636f6c6f723d2223663438383863222073746f702d6f7061636974793d222e3732222f3e3c73746f70206f66667365743d22363025222073746f702d636f6c6f723d2223376339636465222073746f702d6f7061636974793d222e3238222f3e3c73746f70206f66667365743d2231303025222073746f702d636f6c6f723d2223376339636465222073746f702d6f7061636974793d2230222f3e3c2f72616469616c4772616469656e743e3c2f646566733e3c636972636c652063783d223230302e32222063793d223231382e362220723d22313130222066696c6c3d2275726c28236e65623129222f3e3c2f673e"));
        // variant 2: bgNebula_2.svg
        nebulaPointers.push(SSTORE2.write(hex"3c672069643d2262674e6562756c61223e3c646566733e3c72616469616c4772616469656e742069643d226e656232222063783d223231392e31222063793d223230362e332220723d2231353022206772616469656e74556e6974733d227573657253706163654f6e557365223e3c73746f70206f66667365743d223025222073746f702d636f6c6f723d2223353164306537222f3e3c73746f70206f66667365743d22323025222073746f702d636f6c6f723d2223353164306537222073746f702d6f7061636974793d222e3735222f3e3c73746f70206f66667365743d22353525222073746f702d636f6c6f723d2223356337666435222073746f702d6f7061636974793d222e3335222f3e3c73746f70206f66667365743d2231303025222073746f702d636f6c6f723d2223646539613935222073746f702d6f7061636974793d2230222f3e3c2f72616469616c4772616469656e743e3c2f646566733e3c636972636c652063783d223231392e31222063793d223230362e332220723d223835222066696c6c3d2275726c28236e65623229222f3e3c2f673e"));
        // variant 3: bgNebula_3.svg
        nebulaPointers.push(SSTORE2.write(hex"3c672069643d2262674e6562756c61223e3c646566733e3c72616469616c4772616469656e742069643d226e656233222063783d223230392e33222063793d223231362e372220723d2232303522206772616469656e74556e6974733d227573657253706163654f6e557365223e3c73746f70206f66667365743d223025222073746f702d636f6c6f723d2223653037386265222073746f702d6f7061636974793d222e3935222f3e3c73746f70206f66667365743d22333025222073746f702d636f6c6f723d2223363764386261222073746f702d6f7061636974793d222e3535222f3e3c73746f70206f66667365743d22363525222073746f702d636f6c6f723d2223353065323435222073746f702d6f7061636974793d222e3235222f3e3c73746f70206f66667365743d2231303025222073746f702d636f6c6f723d2223353065323435222073746f702d6f7061636974793d2230222f3e3c2f72616469616c4772616469656e743e3c2f646566733e3c636972636c652063783d223230392e33222063793d223231362e372220723d22313235222066696c6c3d2275726c28236e65623329222f3e3c2f673e"));
        // variant 4: bgNebula_4.svg
        nebulaPointers.push(SSTORE2.write(hex"3c672069643d2262674e6562756c61223e3c646566733e3c72616469616c4772616469656e742069643d226e656234222063783d223231302e36222063793d223230382e362220723d2231373522206772616469656e74556e6974733d227573657253706163654f6e557365223e3c73746f70206f66667365743d223025222073746f702d636f6c6f723d2223656263393663222f3e3c73746f70206f66667365743d22343025222073746f702d636f6c6f723d2223386162396436222073746f702d6f7061636974793d222e3535222f3e3c73746f70206f66667365743d22373525222073746f702d636f6c6f723d2223663539313633222073746f702d6f7061636974793d222e3232222f3e3c73746f70206f66667365743d2231303025222073746f702d636f6c6f723d2223663539313633222073746f702d6f7061636974793d2230222f3e3c2f72616469616c4772616469656e743e3c2f646566733e3c636972636c652063783d223231302e36222063793d223230382e362220723d22313030222066696c6c3d2275726c28236e65623429222f3e3c2f673e"));

    }

    function nebulaCount() external view returns (uint256) {
        return nebulaPointers.length;
    }

    /// @notice Returns the raw SVG fragment bytes for a nebula variant.
    function getNebulaSvg(uint256 variantId) external view returns (bytes memory) {
        require(variantId < nebulaPointers.length, "Invalid bgNebula variant");
        return SSTORE2.read(nebulaPointers[variantId]);
    }
}
